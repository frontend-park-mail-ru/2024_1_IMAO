<dialog class="profile-edit-dialog" id="my-dialog">
    <div class="profile-edit-dialog__close">
        <div class="profile-edit-dialog__close-btn">
            &#10006
        </div>
    </div>
    <div class="profile-edit-dialog__container">
        <div class="profile-modal">
            <form class="profile-modal__content" enc-type="multipart/form-data" method="post" action="/submit">
                <div class="profile-modal__header">
                    {{title}}
                </div>
                {{#if hasAvatar}}
                    <div class="profile-modal__avatar-upload avatar">
                        <div class="avatar__edit">
                            <input type="file" id="imageUpload" accept=".png, .jpg, .jpeg" name="avatar">
                            <label for="imageUpload"></label>
                        </div>
                        <div class="avatar__preview">
                            {{#if (is_null avatar)}}
                                <div id="imagePreview" style="background-image: url(images/img_avatar.png);"></div>
                            {{^}}
                                <div id="imagePreview" style="background-image: url(data:image/png;base64,{{avatar}});"></div>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
                {{#each fields}}
                    {{#if this.isPhone}}
                        <div class="profile-modal__field">
                            <input type="{{this.type}}" value="{{this.value}}" name="{{this.name}}" placeholder="{{this.place}}" class="profile-text" id="phone" required>
                        </div>
                    {{^}}
                        {{#if this.isCitySearch}}
                            <div class="profile-modal__ddws"></div>
                        {{^}}
                            <div class="profile-modal__field">
                                <input type="{{this.type}}" value="{{this.value}}" name="{{this.name}}" class="profile-text" placeholder="{{this.place}}" required>
                            </div>
                        {{/if}}
                    {{/if}}
                {{/each}}
                <input class="submit-btn" type="submit" value="Сохранить">
                <div class="error"></div>
                <input type="hidden" name="CSRFToken" value="{{CSRFToken}}">
            </form>
        </div>
    </div>
</dialog>
